{"version":3,"sources":["components/hooks/form-hook.js","components/todo/form.js","components/context/application-settings.js","components/todo/list.js","components/hooks/axios-hook.js","components/todo/todo-connected.js","app.js","index.js"],"names":["useForm","callback","useState","item","setItem","e","target","name","value","preventDefault","reset","TodoForm","props","handleSubmit","handleInputChange","className","onSubmit","data-testid","placeholder","onChange","defaultValue","type","min","max","Button","variant","AppSettingsContext","React","createContext","AppSettings","state","maxItems","sortMethod","hideCompleted","Provider","this","children","Component","TodoList","nextList","setNextList","numPageCount","setNumPageCount","appSettingsContext","useContext","page","list","slice","nextPage","pageNumber","newPage","useEffect","pageButtonArray","numPages","Math","ceil","length","i","push","key","onClick","calcPages","map","complete","toString","_id","handleComplete","assignee","text","delete","edit","axios","require","default","todoAPI","useAxios","setList","_getTodoItems","get","then","response","data","catch","console","error","due","Date","post","difficulty","savedItem","log","id","filter","url","put","listItem","ToDo","_addItem","_toggleComplete","_deleteItem","document","title","Navbar","expand","sticky","App","Brand","href","Main","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.ffdf3545.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useForm = (callback) => {\n  const [item, setItem] = useState({});\n\n  const handleInputChange = e => {\n    setItem({ ...item, [e.target.name]: e.target.value });\n  }\n  const handleSubmit = e => {\n    e.preventDefault();\n    e.target.reset();\n    // console.log({item});\n    callback(item); // used to be props.handleSubmit\n    setItem(item);\n  }\n\n  return [\n    handleInputChange,\n    handleSubmit\n  ];\n};\n\nexport default useForm;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport useForm from '../hooks/form-hook';\n\nimport './form.scss';\n\n// class TodoForm extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = { item: {} };\n//   }\n//   handleInputChange = e => {\n//     this.setState({ item: {...this.state.item, [e.target.name]: e.target.value } });\n//   };\n\n//   handleSubmit = (e) => {\n//     e.preventDefault();\n//     e.target.reset();\n//     this.props.handleSubmit(this.state.item);\n//     const item = {};\n//     this.setState({item});\n//   };\n\nconst TodoForm = (props) => {\n  // const [item, setItem] = useState({});\n\n  // const handleInputChange = e => {\n  //   setItem({ ...item, [e.target.name]: e.target.value });\n  // }\n  // const handleSubmit = e => {\n  //   e.preventDefault();\n  //   e.target.reset();\n  //   props.handleSubmit(item);\n  //   setItem(item);\n  //   }\n\n  const [handleInputChange, handleSubmit] = useForm(sendItem);\n\n  function sendItem(item) {\n    // console.log({item});\n\n    props.handleSubmit(item);\n  };\n\n  // render() {\n  return (\n    <div className=\"form\">\n      <h3>Add Item</h3>\n      <form onSubmit={handleSubmit}>\n        <label data-testid=\"todoItem-all\">\n          <span>To Do Item</span>\n          <input\n            name=\"text\"\n            placeholder=\"Add To Do List Item\"\n            onChange={handleInputChange}\n            data-testid=\"todoItem\"\n          />\n        </label>\n        <label>\n          <span>Difficulty Rating</span>\n          <input defaultValue=\"1\" type=\"range\" min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange} data-testid=\"difficulty\" />\n        </label>\n        <label>\n          <span>Assigned To</span>\n          <input type=\"text\" name=\"assignee\" placeholder=\"Assigned To\" onChange={handleInputChange} data-testid=\"assignee\" />\n        </label>\n        <Button type=\"submit\" data-testid=\"submit\" variant=\"primary\">Add Item</Button>{' '}\n\n      </form>\n    </div>\n  );\n  // }\n}\n\nexport default TodoForm;","import React from 'react';\n\nexport const AppSettingsContext = React.createContext();\n\nclass AppSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      maxItems: 4,\n      sortMethod: 'assignee',\n      hideCompleted: true\n    }\n  }\n\n  // setMaxItems = (max) => {\n  //   this.setState({ maxItems });\n  // }\n\n    render() {\n      return(\n        <AppSettingsContext.Provider value={this.state}>\n          {this.props.children}\n        </AppSettingsContext.Provider>\n      )\n  }\n}\n\nexport default AppSettings;\n","import React, {useContext, useState, useEffect} from 'react';\nimport './list.scss';\nimport { AppSettingsContext } from '../context/application-settings';\n\nconst TodoList = (props) => {\n  const [nextList, setNextList] = useState([]);\n  const [numPageCount, setNumPageCount] = useState([]);\n  const appSettingsContext = useContext(AppSettingsContext);\n\n  let page = props.list.slice(0, appSettingsContext.maxItems);\n  \n  const calcPages = () => {\n    let pageButtonArray = [];\n    let numPages = Math.ceil((props.list.length) / appSettingsContext.maxItems);\n    // console.log({numPages})\n\n    for (let i = 1; i <= numPages; i++) {\n      pageButtonArray.push(<button key={i} name={i} onClick={nextPage}>Page {i}</button>);\n    };\n    setNumPageCount([pageButtonArray]);\n  }\n\n  const nextPage = (e) => {\n    let pageNumber = e.target.name;\n    let newPage = props.list.slice((pageNumber - 1) * appSettingsContext.maxItems, appSettingsContext.maxItems + (pageNumber - 1) * appSettingsContext.maxItems);\n    setNextList(newPage);\n  }\n\n  useEffect(() => {\n    calcPages();\n    setNextList(page);\n  }, [props])\n\n    return (\n      <>\n      <ul className='list-li'>\n        {nextList.map(item => (\n          <li\n            className={`complete-${item.complete.toString()}`}\n            key={item._id}\n          >\n            <span onClick={() => props.handleComplete(item._id)}>\n            <h5>{item.assignee}:</h5>\n            <h6>{item.text}</h6>\n            </span>\n            <button onClick={() => props.delete(item._id)}>[X]</button>\n            <button onClick={() => props.edit(item._id)}>[Edit]</button>\n          </li>\n        ))}\n      </ul>\n      <div>\n        {numPageCount}\n      </div>\n      </>\n    );\n}\n\nexport default TodoList;\n","import { useState } from 'react';\nconst axios = require('axios').default;\n\n// const todoAPI = 'https://api-js401.herokuapp.com/api/v1/todo';\n\n// const todoAPI = 'http://localhost:3001/todo';\n\nconst todoAPI = 'https://nrc-api-server.herokuapp.com/todo';\n\nconst useAxios = () => {\n  const [list, setList] = useState([]);\n\n  const _addItem = (item => {\n    // console.log({item});\n    item.due = new Date();\n    axios.post(todoAPI, {\n      text: item.text,\n      assignee: item.assignee,\n      difficulty: item.difficulty\n    })\n      .then(function (response) {\n        let savedItem = response.data;\n        setList([...list, savedItem])\n      })\n      .catch(function (error) {\n        console.log('Add-item error:', error);\n      })\n  })\n\n  const _toggleComplete = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    // console.log({item})\n    if (item._id) {\n      item.complete = !item.complete;\n      let url = `${todoAPI}/${id}`;\n      axios.put(url, {\n        complete: item.complete,\n      })\n        .then(response => {\n          setList(list.map(listItem => listItem._id === item._id ? response.data : listItem));\n        })\n        .catch(console.error);\n    }\n  }\n\n  const _deleteItem = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    if (item._id) {\n      let url = `${todoAPI}/${id}`;\n      axios.delete(url)\n        .then(response => console.log({ response }))\n        .then(() => _getTodoItems()) // or .then(_getTodoItems);\n        .catch(console.error)\n    }\n  }\n\n  const _getTodoItems = () => {\n    axios.get(todoAPI)\n      .then(response => {\n        // console.log('Response:', response);\n        setList(response.data)\n      })\n      .catch(console.error);\n  };\n\n  return [\n    list,\n    _addItem,\n    _toggleComplete,\n    _deleteItem,\n    _getTodoItems\n  ]\n}\n\nexport default useAxios;\n","import React, { useEffect } from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './todo.scss';\nimport './todo-connected.scss';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\nimport useAxios from '../hooks/axios-hook';\n\nconst ToDo = () => {\n\n  const [list, _addItem, _toggleComplete, _deleteItem, _getTodoItems] = useAxios();\n\n  useEffect(_getTodoItems, []);\n\n  useEffect(() => {\n    document.title = `To-do List: ${list.filter(item => !item.complete).length}`\n  });\n\n  console.log('LIST:', list);\n  return (\n    <>\n      <div>\n        <header className=\"todo-header\">\n          <Navbar variant=\"light\" expand=\"lg\" sticky=\"top\" className=\"nav-color-todo\">\n            <h2>\n              To-do List Manager ({list.filter(item => !item.complete).length})\n        </h2>\n          </Navbar>\n        </header>\n        <section className=\"todo\">\n          <div>\n            <TodoForm handleSubmit={_addItem} />\n          </div>\n          <div>\n            <TodoList\n              list={list}\n              handleComplete={_toggleComplete}\n              delete={_deleteItem}\n            // edit={_editItem}\n            />\n          </div>\n        </section>\n      </div>\n    </>\n  );\n};\n\nexport default ToDo;","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ToDo from './components/todo/todo-connected.js';\nimport './components/todo/app.scss';\nimport AppSettingsContext from './components/context/application-settings';\n\nconst App = () => {\n\n  return (\n      <>\n      <header>\n        <Navbar variant=\"dark\" expand=\"lg\" sticky=\"top\" className=\"nav-color\">        \n        <Navbar.Brand\n          href=\"#home\">Home\n        </Navbar.Brand>\n        </Navbar>\n      </header>\n      <AppSettingsContext>\n        <ToDo />\n      </AppSettingsContext>\n      </>\n    );\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nconst Main = () => {\n\n  return <App />;\n  }\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}